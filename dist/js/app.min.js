"use strict";var App=angular.module("App",[]);App.controller("ResumeCtrl",function($scope,$http){$http.get("resume.json").then(function(res){$scope.resume=res.data})}),App.filter("ageFilter",function(){function calculateAge(birthdate){var birthday=new Date(birthdate),ageDifMs=Date.now()-birthday.getTime(),ageDate=new Date(ageDifMs);return Math.abs(ageDate.getUTCFullYear()-1970)}return function(birthdate){return calculateAge(birthdate)}});var scrollDirection,$=jQuery;!function($){$.fn.scrollingTo=function(opts){var defaults={animationTime:1e3,easing:"",topSpace:0,callbackBeforeTransition:function(){},callbackAfterTransition:function(){}},config=$.extend({},defaults,opts);return $(this).on("click",function(e){var eventVal=e;e.preventDefault();var $section=$(document).find($(this).data("section"));if($section.length<1)return!1;$("html, body").is(":animated")&&$("html, body").stop(!0,!0);var scrollPos=$section.offset().top;if($(window).scrollTop()==scrollPos+config.topSpace)return!1;config.callbackBeforeTransition(eventVal,$section);var newScrollPos=scrollPos-config.topSpace;return $("html, body").animate({scrollTop:newScrollPos+"px"},config.animationTime,config.easing,function(){config.callbackAfterTransition(eventVal,$section)}),$(this)}),$(this).data("scrollOps",config),$(this)}}(jQuery),$(document).ready(function($){var sklSlider=$("#skillSlider");sklSlider.owlCarousel({slideSpeed:400,itemsCustom:[[0,3],[400,4],[500,5],[620,6],[700,8],[992,5],[1200,6]],pagination:!1});var sklData=sklSlider.data("owlCarousel"),sklTgt=$(".skl-ctrl").find(".go");sklTgt.on("click",function(e){e.preventDefault(),$(this).hasClass("go-left")?sklData.prev():sklData.next()});var exSlider=$("#experienceSlider");exSlider.owlCarousel({items:3,slideSpeed:600,itemsDesktop:[1e3,3],itemsDesktopSmall:[900,3],itemsTablet:[800,2],itemsMobile:[500,1],pagination:!1});var exData=exSlider.data("owlCarousel"),exTgt=$(".exp-ctrl").find(".go");exTgt.on("click",function(e){e.preventDefault(),$(this).hasClass("go-left")?exData.prev():exData.next()});var edSlider=$("#educationSlider");edSlider.owlCarousel({slideSpeed:600,items:3,itemsDesktop:[1e3,3],itemsDesktopSmall:[900,3],itemsTablet:[800,2],itemsMobile:[500,1],pagination:!1});var edData=edSlider.data("owlCarousel"),edTgt=$(".edu-ctrl").find(".go");edTgt.on("click",function(e){e.preventDefault(),$(this).hasClass("go-left")?edData.prev():edData.next()});var tmSlider=$("#teamSlider");tmSlider.owlCarousel({slideSpeed:600,items:3,itemsDesktop:[1e3,3],itemsDesktopSmall:[900,3],itemsTablet:[800,2],itemsMobile:[500,1],pagination:!1});var tmData=tmSlider.data("owlCarousel"),tmTgt=$(".tmu-ctrl").find(".go");tmTgt.on("click",function(e){e.preventDefault(),$(this).hasClass("go-left")?tmData.prev():tmData.next()});var tesMoSlider=$("#testimonialSlider");tesMoSlider.owlCarousel({slideSpeed:600,items:2,itemsDesktop:[1e3,2],itemsDesktopSmall:[900,2],itemsTablet:[600,1],itemsMobile:!1,pagination:!1});var tmoData=tesMoSlider.data("owlCarousel"),tmoTgt=$(".tmo-ctrl").find(".go");tmoTgt.on("click",function(e){e.preventDefault(),$(this).hasClass("go-left")?tmoData.prev():tmoData.next()}),$(".menu-smooth-scroll").scrollingTo({easing:"easeOutQuart",animationTime:1800,callbackBeforeTransition:function(e){""!==e.currentTarget.hash&&"#home"!==e.currentTarget.hash&&$(e.currentTarget).parent().addClass("current").siblings().removeClass("current"),$(".button-collapse").sideNav("hide")},callbackAfterTransition:function(e){""!==e.currentTarget.hash&&("#home"===e.currentTarget.hash?window.location.hash="":window.location.hash=e.currentTarget.hash)}}),$(".section-call-to-btn").scrollingTo({easing:"easeOutQuart",animationTime:1800,callbackBeforeTransition:function(e){},callbackAfterTransition:function(e){}}),$(".hire-me-btn").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$("#contact").offset().top},500)}),function(){function Menu($element,options){var handler,defaults={domObj:$element,className:"small-menu",position:"100px",onIntellingenceMenu:function(){},onNormalMenu:function(){}},config=$.extend({},defaults,options),coreFuns={displayMenu:function(){config.domObj.hasClass(config.className)&&config.domObj.removeClass(config.className)},hideMenu:function(){config.domObj.hasClass(config.className)||config.domObj.addClass(config.className)}},publicFuns={intelligent_menu:function(){var direction,lastScrollTop=0;void 0!=handler&&$(window).unbind("scroll",handler),handler=function(e){direction=e.currentTarget.scrollY>lastScrollTop?"down":"up",lastScrollTop=e.currentTarget.scrollY,"up"==direction?coreFuns.displayMenu():coreFuns.hideMenu()},$(window).bind("scroll",handler),config.onNormalMenu()},fixed_menu:function(){void 0!=handler&&$(window).unbind("scroll",handler),handler=function(e){coreFuns.displayMenu()},$(window).bind("scroll",handler),config.onNormalMenu()},mobile_intelligent_menu:function(){jQuery.browser.mobile===!0?this.intelligent_menu():this.fixed_menu()}};return publicFuns}$.fn.menu=function(options){var $element=this.first(),menuFuns=new Menu($element,options);return menuFuns}}();var menuFun=$("header").menu({className:"hide-menu",position:"100px"});window.menuFun=menuFun,menuFun.intelligent_menu(),$("#switch input").on("change",function(e){var menuId=this.id;"menu1"===menuId?menuFun.fixed_menu():"menu2"===menuId?menuFun.intelligent_menu():menuFun.mobile_intelligent_menu()}),function(){function getActiveSectionLength(section,sections){return sections.index(section)}var sections=$(".scroll-section");sections.length>0&&sections.waypoint({handler:function(event,direction){var active_section,active_section_index,prev_section_index;if(active_section=$(this),active_section_index=getActiveSectionLength($(this),sections),prev_section_index=active_section_index-1,"up"===direction?(scrollDirection="up",active_section=0>prev_section_index?active_section:sections.eq(prev_section_index)):scrollDirection="Down","home"!=active_section.attr("id")){var active_link=$('.menu-smooth-scroll[href="#'+active_section.attr("id")+'"]');active_link.parent("li").addClass("current").siblings().removeClass("current")}else $(".menu-smooth-scroll").parent("li").removeClass("current")},offset:"35%"})}();var draggableOp,mapStyle=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:50},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:40},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:20},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-0},{saturation:-0}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#00baff"},{lightness:-10},{saturation:-95}]}],$mapWrapper=$("#map");if(draggableOp=jQuery.browser.mobile===!0?!1:!0,$mapWrapper.length>0){var map=new GMaps({div:"#map",lat:42.886736,lng:-6.74623,scrollwheel:!1,draggable:draggableOp,zoom:12,disableDefaultUI:!0,styles:mapStyle});map.addMarker({lat:42.886736,lng:-6.74623,title:"La nube de Libertual",icon:"images/marker-icon.png",infoWindow:{content:'<p>La nube de libertual <br><img src="images/refugio-la-nube.jpg"></p>'}})}}(jQuery)),$(window).load(function(){if($(".section-call-to-btn.call-to-home").waypoint({handler:function(event,direction){var $this=$(this);$this.fadeIn(0).removeClass("btn-hidden");var showHandler=setTimeout(function(){$this.addClass("btn-show").removeClass("btn-up"),clearTimeout(showHandler)},1500)},offset:"90%"}),$(".section-call-to-btn.call-to-about").delay(1e3).fadeIn(0,function(){var $this=$(this);$this.removeClass("btn-hidden");var showHandler=setTimeout(function(){$this.addClass("btn-show").removeClass("btn-up"),clearTimeout(showHandler)},1600)}),$("#protfolio-msnry").length>0){var loading=0,portfolioMsnry=$("#protfolio-msnry").isotope({itemSelector:".single-port-item",layoutMode:"fitRows"});$("#portfolio-msnry-sort a").on("click",function(e){if(e.preventDefault(),$(this).parent("li").hasClass("active"))return!1;$(this).parent("li").addClass("active").siblings("li").removeClass("active");var $this=$(this),filterValue=$this.data("target");return portfolioMsnry.isotope({filter:filterValue}),$(this)}),$("#portfolio-item-loader").on("click",function(e){e.preventDefault();for(var $this=$(this),i=0;3>i;i++)$.get("portfolioitems.html",function(data,status){var lists,numb,target=$("#portfolio-msnry-sort li.active a").data("target");lists="*"!=target?$(data).find("li"+target):$(data).find("li"),lists.length>0&&(numb=Math.floor(Math.random()*lists.length),portfolioMsnry.isotope("insert",lists.eq(numb)),loading++,9==loading?$this.remove():"")})});var portfolioModal=$("#portfolioModal"),portImgArea=portfolioModal.find(".model-img"),portTitle=portfolioModal.find(".modal-content .title"),portContent=portfolioModal.find(".modal-content .m-content"),portLink=portfolioModal.find(".modal-footer .modal-action");$("#protfolio-msnry").delegate("a.modal-trigger","click",function(e){e.preventDefault();var $this=$(this);portfolioModal.openModal({dismissible:!0,opacity:".4",in_duration:400,out_duration:400,ready:function(){var imgSrc=$this.data("image-source"),title=$this.data("title"),content=$this.data("content"),demoLink=$this.data("demo-link");imgSrc&&portImgArea.html('<img src="'+imgSrc+'" alt="Portfolio Image" />'),portTitle.text(title),portContent.text(content),portLink.attr("href",demoLink)}})})}$("#skillSlider").waypoint({handler:function(event,direction){$(this).find(".singel-hr-inner").each(function(){var height=$(this).data("height");$(this).css("height",height)})},offset:"60%"}),new WOW({offset:200,mobile:!1}).init()});var $countNumb=$(".countNumb");$countNumb.length>0&&$countNumb.counterUp({delay:15,time:1700}),$("#contactForm").on("submit",function(e){function success(response){swal("Thanks!","Your message has been sent successfully!","success"),$this.find("input, textarea").val("")}function error(response){$this.find("input.invalid, textarea.invalid").removeClass("invalid"),response.name&&name.removeClass("valid").addClass("invalid"),response.email&&email.removeClass("valid").addClass("invalid"),response.message&&message.removeClass("valid").addClass("invalid")}e.preventDefault();var $this=$(this),data=$(this).serialize(),name=$this.find("#contact_name"),email=$this.find("#email"),message=$this.find("#textarea1"),loader=$this.find(".form-loader-area"),submitBtn=$this.find('button, input[type="submit"]');loader.show(),submitBtn.attr("disabled","disabled"),$.ajax({type:"POST",url:"inc/sendEmail.php",data:data}).done(function(res){var response=JSON.parse(res);response.OK?success(response):error(response);var hand=setTimeout(function(){loader.hide(),submitBtn.removeAttr("disabled"),clearTimeout(hand)},1e3)}).fail(function(){sweetAlert("Oops...","Something went wrong, Try again later!","error");var hand=setTimeout(function(){loader.hide(),submitBtn.removeAttr("disabled"),clearTimeout(hand)},1e3)})});